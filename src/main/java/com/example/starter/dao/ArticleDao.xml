<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace = "com.example.starter.dao.ArticleDao">
	<select id ="getList" parameterType = "map" resultType="Article">
		SELECT * FROM article order by id DESC
	</select>
	
	
	<select id="getOne" parameterType="long" resultType="Article">
		SELECT *
		FROM article
		WHERE id = #{id}
	</select>
	
	<!--useGeneratedKeys = 생성할 때 생기는 기본키 가져와서 id에 맵핑하기 -->
	<!-- #{} 와 ${}의 차이 #{}은 자동으로 ''가 생성되어 들어간다  -->
	<insert id ="add" parameterType = "map" useGeneratedKeys="true" keyProperty = "id" >
		INSERT INTO article
		SET regDate = NOW(),
		title = #{title},
		body = #{body} 
	</insert>
	
	
	<delete id="delete" parameterType="long">
		DELETE FROM article
		WHERE id = #{id}
	</delete>
	
	<update id="modify" parameterType="map">
		UPDATE article
		SET title = #{title},
		body = #{body}
		WHERE id = #{id}
	</update>
	
	<update id="hitUp" parameterType="long">
		UPDATE article
		SET hit = hit+1
		WHERE id = #{id}
	</update>
	
	
</mapper>